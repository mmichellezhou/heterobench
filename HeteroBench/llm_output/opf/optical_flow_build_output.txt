BUILD COMMAND: make run_simple
STDOUT:
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c main_simple.cpp -o main_simple.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/gradient_xy_calc_optimized.cpp -o cpu_impl_optimized/gradient_xy_calc_optimized.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/gradient_z_calc_optimized.cpp -o cpu_impl_optimized/gradient_z_calc_optimized.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/gradient_weight_y_optimized.cpp -o cpu_impl_optimized/gradient_weight_y_optimized.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/gradient_weight_x_optimized.cpp -o cpu_impl_optimized/gradient_weight_x_optimized.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/outer_product_optimized.cpp -o cpu_impl_optimized/outer_product_optimized.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/tensor_weight_y_optimized.cpp -o cpu_impl_optimized/tensor_weight_y_optimized.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/tensor_weight_x_optimized.cpp -o cpu_impl_optimized/tensor_weight_x_optimized.o
clang++ -Wall -Wextra -pedantic -std=c++11 -fopenmp -w -I../../imageLib -DITERATIONS=1 -DMAX_HEIGHT=2160 -DMAX_WIDTH=3840 -Icpu_impl/include -Icpu_impl_optimized/include -I../../imageLib -I. -c cpu_impl_optimized/flow_calc_optimized.cpp -o cpu_impl_optimized/flow_calc_optimized.o
clang++ -fopenmp -o opf_sw_simple main_simple.o ../../imageLib/Convert.o ../../imageLib/Convolve.o ../../imageLib/flowIO.o ../../imageLib/Image.o ../../imageLib/ImageIO.o ../../imageLib/RefCntMem.o cpu_impl/gradient_xy_calc.o cpu_impl/gradient_z_calc.o cpu_impl/gradient_weight_y.o cpu_impl/gradient_weight_x.o cpu_impl/outer_product.o cpu_impl/tensor_weight_y.o cpu_impl/tensor_weight_x.o cpu_impl/flow_calc.o cpu_impl_optimized/gradient_xy_calc_optimized.o cpu_impl_optimized/gradient_z_calc_optimized.o cpu_impl_optimized/gradient_weight_y_optimized.o cpu_impl_optimized/gradient_weight_x_optimized.o cpu_impl_optimized/outer_product_optimized.o cpu_impl_optimized/tensor_weight_y_optimized.o cpu_impl_optimized/tensor_weight_x_optimized.o cpu_impl_optimized/flow_calc_optimized.o -lgomp
./opf_sw_simple -p /work/shared/users/ugrad/msz49/HeteroBench2/HeteroBench/benchmarks/optical_flow/datasets/larger -o /work/shared/users/ugrad/msz49/HeteroBench2/HeteroBench/benchmarks/optical_flow/datasets/output/acc_output.flo -O /work/shared/users/ugrad/msz49/HeteroBench2/HeteroBench/benchmarks/optical_flow/datasets/output/acc_output_optimized.flo
=======================================
Running optical_flow benchmark C++ Serial
=======================================
Running 1 warm up iteration for original implementation...
Done
Writing output flow file...
Output flow file written to /work/shared/users/ugrad/msz49/HeteroBench2/HeteroBench/benchmarks/optical_flow/datasets/output/acc_output.flo
Running 1 warm up iteration for optimized implementation...
Done
Writing output flow file...
Output flow file written to /work/shared/users/ugrad/msz49/HeteroBench2/HeteroBench/benchmarks/optical_flow/datasets/output/acc_output_optimized.flo
Comparing original and optimized results...
Flow: Fail (Original and optimized differ)
error: 43708 differences found
First 10 elements of original results: (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) 
First 10 elements of optimized results: (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) (0, 0) 
Running 1 iterations for performance measurement...
Running original implementation...
Done
Running optimized implementation...
Done
=======================================
Performance Results:
=======================================
Original Implementation:
  gradient_xy_calc time: 0.159078 seconds
  gradient_z_calc time: 0.111217 seconds
  gradient_weight_y time: 0.261361 seconds
  gradient_weight_x time: 0.259465 seconds
  outer_product time: 0.060926 seconds
  tensor_weight_y time: 0.412372 seconds
  tensor_weight_x time: 0.403772 seconds
  flow_calc time: 0.088297 seconds
  Single iteration time: 1.75649 seconds
Optimized Implementation:
  gradient_xy_calc time: 0.112547 seconds
  gradient_z_calc time: 0.0562231 seconds
  gradient_weight_y time: 0.612773 seconds
  gradient_weight_x time: 0.200755 seconds
  outer_product time: 0.0605582 seconds
  tensor_weight_y time: 0.18752 seconds
  tensor_weight_x time: 0.141187 seconds
  flow_calc time: 0.0902029 seconds
  Single iteration time: 1.46177 seconds
Speedup:
  gradient_xy_calc: 1.41343x
  gradient_z_calc: 1.97815x
  gradient_weight_y: 0.426522x
  gradient_weight_x: 1.29245x
  outer_product: 1.00607x
  tensor_weight_y: 2.19908x
  tensor_weight_x: 2.85983x
  flow_calc: 0.97887x
  Total: 1.20162x
Whole time: 3.21828 seconds

STDERR:
